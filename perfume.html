<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Perfume</title>
<style>
body { font-family:'Poppins', sans-serif; background:#f5f5f5; color:#333; padding:20px; }
h1 { color:#6b5b95; }
select, button { padding:10px; margin-top:10px; border-radius:6px; border:1px solid #ccc; }
button { background:#6b5b95; color:#fff; border:none; cursor:pointer; }
button:hover { background:#563d7c; }
a { display:block; margin-top:20px; color:#6b5b95; text-decoration:none; }
</style>
</head>
<body>

<h1 id="perfume-name"></h1>
<p id="description"></p>

<label for="size-select">Selecciona Mililitraje:</label>
<select id="size-select"></select>
<p>Precio: <span id="price"></span> COP</p>

<button id="add-btn">Agregar al carrito</button>
<a href="cart.html">Ir al carrito</a>

<script>
// Datos de perfumes con precios por mililitraje
const perfumes = {
  "SauvageDior": {description:"Aroma fresco, notas de bergamota y sándalo.", sizes:{50:70000, 100:120000, 200:220000}},
  "ChancheEauFraicheChanel": {description:"Fragancia floral y cítrica.", sizes:{50:65000, 100:95000}},
  "CHMenCH": {description:"Notas amaderadas y especiadas.", sizes:{50:60000, 100:110000}},
  "CKBe": {description:"Fragancia unisex ligera y fresca.", sizes:{50:55000, 100:90000}},
  "CloudArianaGrande": {description:"Dulce y floral con vainilla.", sizes:{30:50000, 50:80000, 100:115000}}
  // ... agrega los 76 perfumes aquí
};

// Obtener perfume del query string
const params = new URLSearchParams(window.location.search);
const name = params.get('name');

if(perfumes[name]){
    document.getElementById('perfume-name').textContent = name;
    document.getElementById('description').textContent = perfumes[name].description;

    const sizeSelect = document.getElementById('size-select');
    const priceSpan = document.getElementById('price');

    // Llenar opciones
    for(const size in perfumes[name].sizes){
        const option = document.createElement('option');
        option.value = size;
        option.textContent = size + " ml";
        sizeSelect.appendChild(option);
    }

    // Mostrar precio inicial
    priceSpan.textContent = perfumes[name].sizes[sizeSelect.value];

    // Cambiar precio al cambiar tamaño
    sizeSelect.addEventListener('change', ()=>{
        priceSpan.textContent = perfumes[name].sizes[sizeSelect.value];
    });

    // Agregar al carrito
    document.getElementById('add-btn').onclick = ()=>{
        const selectedSize = sizeSelect.value;
        const selectedPrice = perfumes[name].sizes[selectedSize];
        const cart = JSON.parse(localStorage.getItem('cart') || '[]');
        cart.push({name, size:selectedSize, price:selectedPrice, qty:1});
        localStorage.setItem('cart', JSON.stringify(cart));
        alert(`${name} (${selectedSize}ml) agregado al carrito`);
        window.location.href = 'cart.html';
    };
}else{
    document.body.innerHTML = "<h2>Perfume no encontrado</h2>";
}
</script>

</body>
</html>
