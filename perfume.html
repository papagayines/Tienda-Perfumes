<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Detalle de Perfume</title>
<style>
body { font-family: Arial, sans-serif; background-color: #f7f5f0; color:#333; margin:0; padding:0; }
header { background-color:#d1c4b2; padding:20px; text-align:center; }
h1 { margin:0; }
.container { display:flex; flex-direction:column; align-items:center; padding:20px; }
img { max-width:300px; border-radius:10px; margin-bottom:20px; }
select, button { padding:10px; font-size:16px; margin:10px 0; border-radius:5px; border:none; }
button { background-color:#8d6e63; color:white; cursor:pointer; }
.description { max-width:500px; text-align:center; margin-bottom:20px; }
</style>
</head>
<body>
<header>
  <h1 id="perfumeName">Perfume</h1>
</header>

<div class="container">
  <img id="perfumeImg" src="" alt="">
  <p class="description" id="perfumeDesc"></p>

  <label for="sizeSelect">Selecciona tamaño:</label>
  <select id="sizeSelect">
    <option value="33000">30 ml - 33.000 COP</option>
    <option value="45000">50 ml - 45.000 COP</option>
    <option value="90000">110 ml - 90.000 COP</option>
  </select>

  <button onclick="addToCart()">Agregar al carrito</button>
</div>

<script>
// Datos de perfumes: imagen y descripción
const perfumeData = {
  "AcquaDiGioGiorgioArmani": {img:"img/AcquaDiGioGiorgioArmani.jpg", desc:"Perfume muy fresco, excelente para días calurosos o de actividad física."},
  "SauvageDior": {img:"img/SauvageDior.jpg", desc:"Fresco y amaderado, ideal para la noche."},
  "CHMenCH": {img:"img/CHMenCH.jpg", desc:"Clásico, elegante y versátil para cualquier ocasión."},
  "CKBe": {img:"img/CKBe.jpg", desc:"Unisex, suave y refrescante."},
  "CloudArianaGrande": {img:"img/CloudArianaGrande.jpg", desc:"Dulce y suave, ideal para jóvenes."},
  // ... Aquí agregas los 76 perfumes con img y desc
  "BurberryHer": {img:"img/BurberryHer.jpg", desc:"Perfume femenino, frutal y elegante."}
};

// Obtener el perfume desde la URL
const params = new URLSearchParams(window.location.search);
const perfumeName = params.get("name");

// Mostrar datos
if(perfumeData[perfumeName]){
  document.getElementById("perfumeName").innerText = perfumeName.replace(/([A-Z])/g," $1").trim();
  document.getElementById("perfumeImg").src = perfumeData[perfumeName].img;
  document.getElementById("perfumeDesc").innerText = perfumeData[perfumeName].desc;
} else {
  document.getElementById("perfumeName").innerText = "Perfume no encontrado";
}

// Función agregar al carrito
function addToCart(){
  const sizeSelect = document.getElementById("sizeSelect");
  const price = parseInt(sizeSelect.value);
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  
  // Revisar si ya está en el carrito
  const exist = cart.find(p => p.name===perfumeName && p.size===sizeSelect.selectedIndex);
  if(exist){
    exist.qty += 1;
  } else {
    cart.push({name:perfumeName, display:document.getElementById("perfumeName").innerText, size:sizeSelect.selectedIndex, price:price, qty:1});
  }
  localStorage.setItem("cart", JSON.stringify(cart));
  alert("Producto agregado al carrito");
}
</script>
</body>
</html>
